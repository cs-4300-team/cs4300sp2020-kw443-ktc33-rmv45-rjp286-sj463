<!-- https://dev.to/aspittel/a-complete-beginners-guide-to-vue-422n -->
<!-- source used for setup help -->

<head>
  <link rel="stylesheet" href="/static/index-main.css">
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <!-- <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script> -->
  <title>Party Playlist!</title>
</head>

<html>

<body>
  <div id="app">
    <div v-if="!loading" id="all_content">
      <h1>party playlist mixer</h1>
      <span id="description">add links to Spotify playlists (one-by-one) below then click Go! to get a new
        playlist</span>
      <div class="comment-bar">
        <!-- <textarea cols="100">Enter input here.</textarea> -->
        <input id="input_text" type="text" v-bind:size="stuckPopup ? 50 : 75" placeholder="Add Your Playlists."
          v-model="input">
        <button type="button" v-on:click="addInput">+</button>
        <span id="stuck" v-on:click="stuckPopup = !stuckPopup">Stuck?</span>

        <div id="stuck_popup" v-if="stuckPopup">
          <div id="stuck_popup_contents">
            Try these example playlists!
            <ul>
              <li v-for="example in examples" v-on:click="setExample(example)" class="example_input">
                {{example.name}}
              </li>
            </ul>
          </div>
        </div>
      </div>

      <span id="error_label" v-if="error_message">{{ error_message }}<br></span>

      <span v-if="inputSet.size > 0">Your Playlists: </span>
      <div class="row" v-for="(val, input_key) in inputSet" :key=input_key>
        <span>{{ val }}</span>
        <button id="`+ new_input + `" v-on:click="removeRow(input_key)">X</button>
      </div> <br>

      <button type="button" style="background-color: green;color: white;" v-on:click="output">Go!</button><br>

      <label v-if="outputs.length">Outputs:</label>
      <div style="overflow:auto; max-height:300px; width:50%">
        <!-- <pre>{{stringOutput}}</pre> -->
        <div class="song_display" v-for="item in outputs" v-if="item && item.name">
          <img v-bind:src="image(item)" />
          <div class="song_info">
            <span>{{ item.name }}</span><br />
            <span class="song_artists">{{ item.artists && item.artists.join(', ') || 'Unknown Artist'}} </span>
          </div>
        </div>
      </div>
    </div>
    <div id="loading" v-if="loading">
      {{ display_lyric.lyric }} <br>
      -- {{ display_lyric.artist }} <br>
      <img src="/static/music.gif" width="20%" height="auto">
    </div>
    <div id="footer">
      Created by: Katelin Chan (ktc33), Salil Jajodia (sj463), Ryan Pappa (rjp286), Ryan Vaccariello (rmv45), Keely Wan
      (kw443)
    </div>
  </div>
  <script src="/static/index.js"></script>
</body>

</html>